import socket

import time

import numpy as np

import pickle

import struct

p2_ip = input("Digite o IP do p2: ")

PORT = 6000

n = int(input("Digite a ordem da matriz quadrada: "))

qtd = int(input("Digite o nÃºmero de matrizes a serem criadas: "))

for i in range(qtd):

Â Â Â Â Â Â Â Â print(f"ðŸ“¦ Criando e enviando matriz {i+1}/{qtd}...")

Â Â Â Â Â Â Â Â matriz = np.random.randint(1, 10, (n, n))

Â Â Â Â Â Â Â Â start_time = time.time()

Â Â Â Â Â Â Â Â pacote = {

Â  Â  Â Â Â Â Â Â Â Â 'matriz': matriz,

Â  Â  Â Â Â Â Â Â Â Â 'start_time': start_time

Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â data = pickle.dumps(pacote)

Â Â Â Â Â Â Â Â size = struct.pack('>Q', len(data))

Â Â Â Â Â Â Â Â tcp = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

Â Â Â Â Â Â Â Â tcp.connect((p2_ip, PORT))

Â Â Â Â Â Â Â Â tcp.sendall(size)

Â Â Â Â Â Â Â Â tcp.sendall(data)

Â Â Â Â Â Â Â Â tcp.close()

Â Â Â Â Â Â Â Â print(f"âœ… Matriz {i+1}/{qtd} enviada ao p2.")

print("ðŸŽ¯ Todas as matrizes foram enviadas.")


